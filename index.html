<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Кэшбэк-акции банков</title>
<style>
  :root{
     --accent:#222;
     --bg:#fff;
     --muted:#888;
  }
  *{box-sizing:border-box;}
  body{font-family:system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif;
       margin:0;padding:1rem;background:var(--bg);color:var(--accent);}
  h1{font-size:1.5rem;margin:0 0 1rem;}
  .filters{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:1rem;}
  .filters select,
  .filters input{padding:.4rem .6rem;border:1px solid var(--muted);border-radius:4px;font:inherit;min-width:140px;}
  .filters button{padding:.4rem .9rem;border:none;border-radius:4px;background:var(--accent);color:#fff;cursor:pointer;}
  .filters button:hover{opacity:.9;}
  table{width:100%;border-collapse:collapse;margin-bottom:1rem;}
  thead{position:sticky;top:0;background:#f6f6f6;}
  th,td{padding:.55rem .6rem;border-bottom:1px solid #e4e4e4;text-align:left;}
  tr{cursor:pointer;transition:background .15s;}
  tr:hover{background:#fafafa;}
  #details:empty{display:none;padding:1rem;border:1px solid #e4e4e4;border-radius:6px;white-space:pre-line;}
  @media(max-width:600px){
     .filters select{flex:1 1 48%;}
  }
</style>
</head>
<body>

<h1>Кэшбэк-акции банков</h1>

<!-- Фильтры + поиск -->
<div class="filters">
  <select id="bankFilter"><option value="">Банк</option></select>
  <select id="categoryFilter"><option value="">Категория</option></select>
  <select id="brandFilter"><option value="">Компания/бренд</option></select>
  <select id="cashbackFilter"><option value="">Размер кэшбека/скидки</option></select>
  <input type="search" id="searchInput" placeholder="Поиск..." />
  <button id="resetBtn">Сбросить</button>
</div>

<!-- Таблица -->
<div style="overflow-x:auto;">
  <table id="dataTable" style="display:none;">
    <thead><tr>
      <th>Банк</th>
      <th>Компания/бренд</th>
      <th>Размер кэшбека/скидки</th>
    </tr></thead>
    <tbody></tbody>
  </table>
</div>

<!-- Подробности выбранной строки -->
<pre id="details"></pre>

<script>
// ---- ДАННЫЕ (дополните/замените) ----
const data = [
    {
    "Банк": "Т-Банк",
    "Карта": "Black",
    "Категория": "Еда и продукты",
    "Компания/бренд": "Tasty Coffee",
    "Размер кэшбека/скидки ": "Кэшбэк 3%",
    "Условия (если указаны)": "На 1 покупку онлайн от 5 ₽",
    "Короткое описание компании/бренда": "Интернет-магазин свежего кофе",
    "Даты проведения акции": "С 12 по 26 мая",
    "Как получить кэшбэк": "Выберите что-нибудь на сумму от 5 ₽\r\nОплатите покупку любой картой Т‑Банка на сайте партнера \r\nОплатить курьеру, в пункте выдачи заказов, по QR-коду и через СБП нельзя \r\nКэшбэк придет в дату следующей выписки",
    "Макс. кэшбек/скидка в руб": 300,
    "Сайт": "https://shop.tastycoffee.ru/?utm_source=tinkoff",
    "О партнере": "Tasty Coffee — интернет-магазин обжарщика кофе. Кофе в зернах для эспрессо-машины и заварки фильтр-методами, возможность выбрать помол для зерна. Аксессуары для заваривания кофе: фильтры, воронки, аэропрессы и многое другое. "
  },
  {
    "Банк": "Т-Банк",
    "Карта": "Black",
    "Категория": "Еда и продукты",
    "Компания/бренд": "Мануфактура Кофе",
    "Размер кэшбека/скидки ": "Кэшбэк 40%",
    "Условия (если указаны)": "На покупки онлайн",
    "Короткое описание компании/бренда": "Зерновой кофе",
    "Даты проведения акции": "С 5 мая по 4 июля",
    "Как получить кэшбэк": "Выберите что-нибудь на любую сумму\r\nОплатите покупку любой картой Т‑Банка на сайте партнера\r\nКэшбэк придет в дату следующей выписки",
    "Макс. кэшбек/скидка в руб": "Максимум за одну покупку — 2000 бонусов",
    "Сайт": "https://manufactorycoffee.ru/",
    "О партнере": "Мануфактура кофе — интернет-магазин обжарщика из Санкт-Петербурга. Свежая обжарка и бесплатный помол зерна. Кофе для всех видов заваривания — от эспрессо-машины до чашки."
  },
  {
    "Банк": "Т-Банк",
    "Карта": "Black",
    "Категория": "Еда и продукты",
    "Компания/бренд": "Elementaree",
    "Размер кэшбека/скидки ": "Скидка 40%",
    "Условия (если указаны)": "На 1 покупку онлайн от 3 000 ₽",
    "Короткое описание компании/бренда": "Доставка наборов продуктов с рецептами для приготовления",
    "Промокод (если указан)": "tbanknew",
    "Даты проведения акции": "С 1 по 31 мая",
    "Как получить кэшбэк": "Оформите заказ на сумму от 3000 ₽ на сайте партнера\r\nПеред оплатой введите промокод\r\nОплатите покупку любой картой Т‑Банка на сайте партнера",
    "Дополнительная информация (если есть)": "Промокод действует для новых клиентов партнера при оплате картой Т‑Банка и дает скидку 40% на первую покупку от 3 000 рублей на сайте. Скидка действует от текущей цены и не суммируется с другими акциями. Количество промокодов ограничено. Условия могут быть изменены партнером, а акция — досрочно остановлена, если все промокоды использованы. Промокод, срок его действия и порядок применения формируются на стороне партнера. Т‑Банк не несет ответственности за действие промокодов.",
    "Макс. кэшбек/скидка в руб": "Не указан",
    "Сайт": "https://elementaree.ru/",
    "О партнере": "Elementaree — доставка готовых наборов продуктов. Подготовленные ингредиенты: сваренный бульон, нарезанное мясо, очищенные овощи. Возможность самостоятельно составить меню."
  },
  {
    "Банк": "Т-Банк",
    "Карта": "Black",
    "Категория": "Одежда, обувь, аксессуары",
    "Компания/бренд": "Lacoste",
    "Размер кэшбека/скидки ": "Кэшбэк 5%",
    "Условия (если указаны)": "На покупки онлайн",
    "Короткое описание компании/бренда": "Интернет-магазин одежды европейского бренда",
    "Даты проведения акции": "С 11 октября 2024 г по 11 октября 2025 г",
    "Как получить кэшбэк": "Купите что-нибудь на сайте партнера \r\nОплатите покупку любой картой Т‑Банка, кроме кредитной \r\nНе действует при оплате «Долями», по QR-коду и через СБП \r\nКэшбэк придет в дату следующей выписки",
    "Макс. кэшбек/скидка в руб": "Максимум в месяц — 5000 бонусов",
    "Сайт": "https://lacoste.ru/",
    "О партнере": "Lacoste — интернет-магазин европейского бренда. Мужская, женская и детская одежда, обувь и аксессуары в спортивном и повседневном стиле. Доставка по всей России."
  },
  {
    "Банк": "Т-Банк",
    "Карта": "Black",
    "Категория": "Одежда, обувь, аксессуары",
    "Компания/бренд": "Amazing Red",
    "Размер кэшбека/скидки ": "Кэшбэк 10%",
    "Условия (если указаны)": "На 1 покупку онлайн",
    "Короткое описание компании/бренда": "Кроссовки и спортивная одежда",
    "Даты проведения акции": "С 1 по 31 мая",
    "Как получить кэшбэк": "Выберите что-нибудь на сайте партнера \r\nОплатите покупку любой картой Т-Банка \r\nНельзя оплатить через СБП и в магазине партнера Кэшбэк придет в дату следующей выписки",
    "Макс. кэшбек/скидка в руб": "Не указан",
    "Сайт": "https://amazingred.ru/",
    "О партнере": "Amazing Red — мультибрендовые магазины одежды, обуви и аксессуаров спортивного и уличного стиля от  брендов PUMA, Nike, Asics и Hoka"
  },
  {
    "Банк": "Т-Банк",
    "Карта": "Black",
    "Категория": "Одежда, обувь, аксессуары",
    "Компания/бренд": "Mascotte",
    "Размер кэшбека/скидки ": "Кэшбэк 5%",
    "Короткое описание компании/бренда": "Магазины брендовой обуви",
    "Даты проведения акции": "С 1 мая по 31 июля",
    "Как получить кэшбэк": "Выберите что-нибудь на любую сумму в магазине партнера \r\nДля покупок на кассе действует только в точках, отмеченных на карте Оплатите покупку любой картой Т‑Банка на сайте партнера или на кассе Оплатить по QR-коду и через СБП нельзя \r\nКэшбэк придет в дату следующей выписки",
    "Макс. кэшбек/скидка в руб": "Максимум за всё время акции — 2000 бонусов",
    "Сайт": "https://www.mascotte.ru/",
    "О партнере": "Mascotte — интернет-магазин и сеть салонов брендовой обуви на любой сезон для женщин и мужчин. Также в продаже сумки и аксессуары, которые сочетаются с обувью и помогают создавать завершенный образ."
  },
  {
    "Банк": "Альфа-Банк",
    "Карта": "Альфа Карта",
    "Категория": "Еда и продукты",
    "Компания/бренд": "Мануфактура Кофе",
    "Размер кэшбека/скидки ": "Кэшбэк до 30%",
    "Условия (если указаны)": "На все покупки до 30.06.2025",
    "Короткое описание компании/бренда": "Обжарка кофе",
    "Даты проведения акции": "01.04.2025 - 30.06.2025",
    "Как получить кэшбэк": "Оплачивайте покупки в магазинах и на сайте партнёра Картой Альфа-Банка \r\nЖдите кэшбэк \r\nОн придёт 10 числа следующего месяца",
    "Макс. кэшбек/скидка в руб": "Максимальный кэшбэк по акции за покупку — 2000 ₽",
    "Сайт": "https://manufactorycoffee.ru/?utm_source=alfabank&utm_medium=banner&utm_campaign=alfacashback",
    "О партнере": "Самые контркультурные обжарщики кофе. Бесплатная доставка по РФ от 5000 руб"
  },
  {
    "Банк": "Альфа-Банк",
    "Карта": "Альфа Карта",
    "Категория": "Еда и продукты",
    "Компания/бренд": "Tasty Coffee",
    "Размер кэшбека/скидки ": "Кэшбэк до 10%",
    "Условия (если указаны)": "На все покупки до 31.05.2025",
    "Короткое описание компании/бренда": "Интернет-магазин кофе и чая",
    "Даты проведения акции": "01.05.2025 - 31.05.2025",
    "Как получить кэшбэк": "Оплачивайте покупки в интернет-магазине партнёра Картой Альфа-Банка \r\nЖдите кэшбэк \r\nОн придёт 10 числа следующего месяца",
    "Макс. кэшбек/скидка в руб": "Максимальный кэшбэк по акции за месяц — 400 ₽",
    "Сайт": "https://shop.tastycoffee.ru/",
    "О партнере": "Tasty Coffee — кофе свежей обжарки с бесплатной доставкой. Разные форматы кофе: дрип-пакеты, концентрат, готовый кофе в банках и зерновой кофе для всех способов приготовления помогут получить напиток дома как в кофейне без специального оборудования и навыков. Зерно обжаривают под заказ и бесплатно доставляют по всей России, а если вкус не понравится — вернут деньги."
  },
  {
    "Банк": "Альфа-Банк",
    "Карта": "Альфа Карта",
    "Категория": "Одежда, обувь, аксессуары",
    "Компания/бренд": "Lacoste",
    "Размер кэшбека/скидки ": "Кэшбэк до 5%",
    "Условия (если указаны)": "На все покупки до 31.12.2025",
    "Короткое описание компании/бренда": "Мужская и женская одежда",
    "Даты проведения акции": "01.01.2025 - 31.12.2025",
    "Как получить кэшбэк": "Оплачивайте покупки в интернет-магазине партнёра Картой Альфа-Банка \r\nЖдите кэшбэк \r\nОн придёт 10 числа следующего месяца",
    "Макс. кэшбек/скидка в руб": "Максимальный кэшбэк по акции за месяц — 20 000 ₽",
    "Сайт": "https://lacoste.ru/",
    "О партнере": "Оригинальная мужская и женская одежда, обувь и аксессуары марки Lacoste в официальном интернет-магазине. Удобная оплата и бесплатная доставка по всей России!"
  },
  {
    "Банк": "Альфа-Банк",
    "Карта": "Альфа Карта",
    "Категория": "Одежда, обувь, аксессуары",
    "Компания/бренд": "SuperStep",
    "Размер кэшбека/скидки ": "Кэшбэк до 5%",
    "Условия (если указаны)": "На все заказы до 30.06.2025",
    "Короткое описание компании/бренда": "Брендовые кроссовки и ботинки",
    "Даты проведения акции": "01.05.2025 - 30.06.2025",
    "Как получить кэшбэк": "Оплачивайте покупки в интернет-магазине партнёра Картой Альфа-Банка \r\nЖдите кэшбэк \r\nОн придёт 10 числа следующего месяца",
    "Макс. кэшбек/скидка в руб": "Максимальный кэшбэк за весь период акции — 3000 ₽",
    "Сайт": "https://superstep.ru/",
    "О партнере": "Брендовые кроссовки и ботинки в интернет-магазине SuperStep"
  },
  {
    "Банк": "ВТБ",
    "Карта": "Дебетовая карта для жизни",
    "Категория": "Еда и продукты",
    "Компания/бренд": "Level Kitchen",
    "Размер кэшбека/скидки ": "Кешбэк 45%",
    "Условия (если указаны)": "Предложение действует при первой покупке на сумму от 2 000 ₽ по карте ВТБ на сайте и в мобильном приложении Level Kitchen.",
    "Короткое описание компании/бренда": "Гтоовая еда",
    "Даты проведения акции": "май (явно на сайте не указано)",
    "Как получить кэшбэк": "Предложение действует при первой покупке на сумму от 2 000 ₽ по карте ВТБ на сайте и в мобильном приложении Level Kitchen.",
    "Дополнительная информация (если есть)": "Акция действует для клиентов, которые не совершали покупки у партнера в течение 6 месяцев до старта акции.",
    "Макс. кэшбек/скидка в руб": "Максимальный размер кешбэка – 2 000 ₽. Фонд акции ограничен.",
    "Сайт": "https://levelkitchen.com/?utm_source=vtb&utm_medium=cpa&utm_campaign=cashback_base",
    "О партнере": "Level Kitchen — это готовые блюда с доставкой для тех, кто хочет похудеть, питаться сбалансированно или пройти детокс. Можно заказать рацион на неделю или месяц, доставка раз в два или три дня в зависимости от региона."
  },
  {
    "Банк": "ВТБ",
    "Карта": "Дебетовая карта для жизни",
    "Категория": "Еда и продукты",
    "Компания/бренд": "Шефмаркет",
    "Размер кэшбека/скидки ": "Кешбэк до 30% за продукты",
    "Условия (если указаны)": "Предложение действует при первой покупке по карте ВТБ на сайте Шефмаркет",
    "Короткое описание компании/бренда": "Сервис доставки продуктов с готовыми рецептами",
    "Даты проведения акции": "май",
    "Как получить кэшбэк": "Предложение действует при первой покупке по карте ВТБ на сайте Шефмаркет:\r\n\r\n- 30% за покупку на сумму от 2 600 ₽ для клиентов, которые ранее не совершали покупки у партнера. \r\nМаксимальное начисление – 800 ₽.\r\n\r\n- 5% за покупку на сумму от 3 500 ₽ для клиентов, которые не совершали покупки в течение последних 3 месяцев. \r\nМаксимальное начисление – 250 ₽.",
    "Макс. кэшбек/скидка в руб": "800 или 250 рублей",
    "Сайт": "https://www.chefmarket.ru/?utm_source=vtb&utm_medium=bank&utm_campaign=cashback",
    "О партнере": "Шефмаркет – сервис доставки продуктов с готовыми рецептами. К каждому блюду прилагается фотоинструкция. Ингредиенты расфасованы для каждого рецепта. Бесплатная доставка."
  },
  {
    "Банк": "ВТБ",
    "Карта": "Дебетовая карта для жизни",
    "Категория": "Одежда, обувь, аксессуары",
    "Компания/бренд": "Lacoste ",
    "Размер кэшбека/скидки ": "Кешбэк 7%",
    "Условия (если указаны)": "Предложение действует при любой покупке на сумму от 1 500 ₽  по карте ВТБ в интернет-магазине Lacoste.",
    "Короткое описание компании/бренда": "Бренд одежды",
    "Даты проведения акции": "май",
    "Как получить кэшбэк": "Предложение действует при любой покупке на сумму от 1 500 ₽ по карте ВТБ в интернет-магазине Lacoste.",
    "Макс. кэшбек/скидка в руб": "не указана",
    "Сайт": "https://lacoste.ru/",
    "О партнере": "Lacoste — один из узнаваемых европейских брендов с полной линейкой мужской и женской одежды для повседневной жизни и активного времяпровождения."
  },
  {
    "Банк": "ВТБ",
    "Карта": "Дебетовая карта для жизни",
    "Категория": "Одежда, обувь, аксессуары",
    "Компания/бренд": "Mascotte",
    "Размер кэшбека/скидки ": "Кэшбэк 5%",
    "Условия (если указаны)": "Предложение действует на все покупки по карте ВТБ в интернет-магазине MASCOTTE. ",
    "Короткое описание компании/бренда": "Магазины брендовой обуви",
    "Даты проведения акции": "май",
    "Как получить кэшбэк": "Предложение действует на все покупки по карте ВТБ в интернет-магазине MASCOTTE. ",
    "Макс. кэшбек/скидка в руб": "Максимальный размер кешбэка – 2 000 ₽.",
    "Сайт": "https://mascotte.ru/?utm_source=advcake&utm_medium=cpa&utm_campaign=vtb&utm_content=cashback&advcake_params=bc8bd579008eef9517372bd1c42bcc3d&utm_term=bc8bd579008eef9517372bd1c42bcc3d&erid=LdtCKSjoD&advcake_method=1&m=1",
    "О партнере": "MASCOTTE — бренд обуви и аксессуаров, который делает ваш образ ярче."
  }
];
// ---- /ДАННЫЕ ----

// --- Нормализация названия поля с лишним пробелом ---
data.forEach(o=>{
  if(o["Размер кэшбека/скидки "] && !o["Размер кэшбека/скидки"]){
    o["Размер кэшбека/скидки"] = o["Размер кэшбека/скидки "];
    delete o["Размер кэшбека/скидки "];
  }
});

// --- DOM ссылочки ---
const els = {
  bank:      document.getElementById('bankFilter'),
  category:  document.getElementById('categoryFilter'),
  brand:     document.getElementById('brandFilter'),
  cashback:  document.getElementById('cashbackFilter'),
  search:    document.getElementById('searchInput'),
  reset:     document.getElementById('resetBtn'),
  table:     document.getElementById('dataTable'),
  tbody:     document.getElementById('dataTable').querySelector('tbody'),
  details:   document.getElementById('details')
};

// --- Заполняем фильтры исходными значениями ---
const filterMap = {
  bank:     "Банк",
  category: "Категория",
  brand:    "Компания/бренд",
  cashback: "Размер кэшбека/скидки"
};

const masterOptions = {};   // исходные списки для «активного» фильтра
Object.entries(filterMap).forEach(([id,key])=>{
  masterOptions[id] = [...new Set(data.map(d=>d[key]))].sort();
  fillSelect(els[id], masterOptions[id]);
});

function fillSelect(select, values){
  select.length = 1;           // оставить placeholder
  values.forEach(v=>{
    const opt = document.createElement('option');
    opt.value = v;
    opt.textContent = v;
    select.appendChild(opt);
  });
}

// --- Подписки ---
Object.keys(filterMap).forEach(id=>{
  els[id].addEventListener('change', ()=>updateFilters(id));
});
els.search.addEventListener('input', updateTable);
els.reset.addEventListener('click', resetAll);

// --- Логика фильтров ---
function currentSel(){
  const s={};
  for(const id in filterMap){
    const val = els[id].value;
    if(val) s[filterMap[id]] = val;
  }
  return s;
}

function updateFilters(changedId){
  const sel = currentSel();
  // динамически пересчитаем списки для остальных фильтров
  for(const id in filterMap){
    if(id===changedId) continue;        // «активный» оставляем полным
    const key = filterMap[id];
    const vals = data.filter(row=>{
        for(const k in sel){ if(k===key) continue;
          if(row[k]!==sel[k]) return false;
        }
        return true;
      }).map(r=>r[key]);
    fillSelect(els[id],[...new Set(vals)].sort());
    // если прежнее значение ушло – сбрасываем
    if(!vals.includes(els[id].value)) els[id].value="";
  }
  updateTable();
}

// --- Рендер таблицы ---
function updateTable(){
  const sel = currentSel();
  const q   = els.search.value.trim().toLowerCase();

  const rows = data.filter(row=>{
    // фильтры-селекты
    for(const k in sel){ if(row[k]!==sel[k]) return false; }
    // поиск
    if(q){
      return Object.values(row).some(v=>String(v).toLowerCase().includes(q));
    }
    return true;
  });

  renderRows(rows);

  const visible = Object.keys(sel).length>0 || q;
  els.table.style.display = visible ? '' : 'none';
}

function renderRows(rows){
  els.tbody.innerHTML='';
  rows.forEach(row=>{
    const tr=document.createElement('tr');
    tr.innerHTML = `
      <td>${row["Банк"]}</td>
      <td>${row["Компания/бренд"]}</td>
      <td>${row["Размер кэшбека/скидки"]}</td>`;
    tr.addEventListener('click', ()=>showDetails(row));
    els.tbody.appendChild(tr);
  });
}

function showDetails(row){
  els.details.style.display='';
  els.details.textContent = Object.entries(row)
    .map(([k,v])=>`${k}: ${v}`).join('\n');
  els.details.scrollIntoView({behavior:'smooth'});
}

function resetAll(){
  Object.keys(filterMap).forEach(id=>{ els[id].value=''; fillSelect(els[id],masterOptions[id]); });
  els.search.value='';
  els.details.style.display='none';
  updateTable();
}

// --- старт ---
updateTable();
</script>
</body>
</html>
